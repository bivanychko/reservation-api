import { MigrationInterface, QueryRunner } from "typeorm";

import { Amenity, Reservation } from "../entities";

const reservations = [
  {
    id: "1",
    amenityId: "1",
    userId: "97",
    startTime: "600",
    endTime: "900",
    date: "1592611200000",
  },
  {
    id: "2",
    amenityId: "2",
    userId: "57",
    startTime: "540",
    endTime: "780",
    date: "1592697600000",
  },
  {
    id: "3",
    amenityId: "6",
    userId: "5",
    startTime: "360",
    endTime: "900",
    date: "1590105600000",
  },
  {
    id: "4",
    amenityId: "3",
    userId: "92",
    startTime: "300",
    endTime: "1200",
    date: "1590624000000",
  },
  {
    id: "5",
    amenityId: "8",
    userId: "36",
    startTime: "480",
    endTime: "1140",
    date: "1593216000000",
  },
  {
    id: "6",
    amenityId: "2",
    userId: "9",
    startTime: "540",
    endTime: "780",
    date: "1593216000000",
  },
  {
    id: "7",
    amenityId: "5",
    userId: "91",
    startTime: "300",
    endTime: "1020",
    date: "1592179200000",
  },
  {
    id: "8",
    amenityId: "10",
    userId: "22",
    startTime: "300",
    endTime: "720",
    date: "1592179200000",
  },
  {
    id: "9",
    amenityId: "3",
    userId: "48",
    startTime: "480",
    endTime: "720",
    date: "1589932800000",
  },
  {
    id: "10",
    amenityId: "10",
    userId: "31",
    startTime: "120",
    endTime: "660",
    date: "1593216000000",
  },
  {
    id: "11",
    amenityId: "9",
    userId: "34",
    startTime: "180",
    endTime: "1200",
    date: "1593820800000",
  },
  {
    id: "12",
    amenityId: "6",
    userId: "18",
    startTime: "600",
    endTime: "960",
    date: "1593216000000",
  },
  {
    id: "13",
    amenityId: "3",
    userId: "44",
    startTime: "360",
    endTime: "1080",
    date: "1592784000000",
  },
  {
    id: "14",
    amenityId: "9",
    userId: "38",
    startTime: "480",
    endTime: "1080",
    date: "1592784000000",
  },
  {
    id: "15",
    amenityId: "1",
    userId: "75",
    startTime: "540",
    endTime: "780",
    date: "1592697600000",
  },
  {
    id: "16",
    amenityId: "1",
    userId: "9",
    startTime: "360",
    endTime: "1080",
    date: "1589846400000",
  },
  {
    id: "17",
    amenityId: "3",
    userId: "33",
    startTime: "360",
    endTime: "1200",
    date: "1592438400000",
  },
  {
    id: "18",
    amenityId: "9",
    userId: "96",
    startTime: "420",
    endTime: "780",
    date: "1591574400000",
  },
  {
    id: "19",
    amenityId: "10",
    userId: "24",
    startTime: "240",
    endTime: "900",
    date: "1593820800000",
  },
  {
    id: "20",
    amenityId: "5",
    userId: "15",
    startTime: "240",
    endTime: "720",
    date: "1591574400000",
  },
  {
    id: "21",
    amenityId: "7",
    userId: "60",
    startTime: "360",
    endTime: "1200",
    date: "1589932800000",
  },
  {
    id: "22",
    amenityId: "8",
    userId: "30",
    startTime: "480",
    endTime: "720",
    date: "1592784000000",
  },
  {
    id: "23",
    amenityId: "8",
    userId: "55",
    startTime: "360",
    endTime: "900",
    date: "1593216000000",
  },
  {
    id: "24",
    amenityId: "10",
    userId: "23",
    startTime: "600",
    endTime: "1080",
    date: "1591574400000",
  },
  {
    id: "25",
    amenityId: "7",
    userId: "17",
    startTime: "480",
    endTime: "1140",
    date: "1590105600000",
  },
  {
    id: "26",
    amenityId: "2",
    userId: "86",
    startTime: "360",
    endTime: "1080",
    date: "1592697600000",
  },
  {
    id: "27",
    amenityId: "9",
    userId: "4",
    startTime: "600",
    endTime: "1200",
    date: "1592179200000",
  },
  {
    id: "28",
    amenityId: "10",
    userId: "71",
    startTime: "480",
    endTime: "1200",
    date: "1592784000000",
  },
  {
    id: "29",
    amenityId: "6",
    userId: "1",
    startTime: "60",
    endTime: "1080",
    date: "1589846400000",
  },
  {
    id: "30",
    amenityId: "5",
    userId: "1",
    startTime: "120",
    endTime: "840",
    date: "1590278400000",
  },
  {
    id: "31",
    amenityId: "8",
    userId: "74",
    startTime: "180",
    endTime: "1020",
    date: "1590105600000",
  },
  {
    id: "32",
    amenityId: "10",
    userId: "36",
    startTime: "360",
    endTime: "1140",
    date: "1593216000000",
  },
  {
    id: "33",
    amenityId: "2",
    userId: "72",
    startTime: "540",
    endTime: "1080",
    date: "1592784000000",
  },
  {
    id: "34",
    amenityId: "8",
    userId: "30",
    startTime: "300",
    endTime: "780",
    date: "1589846400000",
  },
  {
    id: "35",
    amenityId: "5",
    userId: "54",
    startTime: "600",
    endTime: "1140",
    date: "1590105600000",
  },
  {
    id: "36",
    amenityId: "4",
    userId: "17",
    startTime: "180",
    endTime: "840",
    date: "1589932800000",
  },
  {
    id: "37",
    amenityId: "7",
    userId: "63",
    startTime: "600",
    endTime: "1020",
    date: "1589846400000",
  },
  {
    id: "38",
    amenityId: "5",
    userId: "77",
    startTime: "480",
    endTime: "660",
    date: "1590105600000",
  },
  {
    id: "39",
    amenityId: "5",
    userId: "38",
    startTime: "480",
    endTime: "660",
    date: "1589846400000",
  },
  {
    id: "40",
    amenityId: "8",
    userId: "16",
    startTime: "180",
    endTime: "1200",
    date: "1592179200000",
  },
  {
    id: "41",
    amenityId: "8",
    userId: "26",
    startTime: "480",
    endTime: "840",
    date: "1589846400000",
  },
  {
    id: "42",
    amenityId: "7",
    userId: "40",
    startTime: "540",
    endTime: "1140",
    date: "1593561600000",
  },
  {
    id: "43",
    amenityId: "2",
    userId: "82",
    startTime: "300",
    endTime: "720",
    date: "1592438400000",
  },
  {
    id: "44",
    amenityId: "10",
    userId: "63",
    startTime: "540",
    endTime: "900",
    date: "1593820800000",
  },
  {
    id: "45",
    amenityId: "3",
    userId: "10",
    startTime: "300",
    endTime: "1020",
    date: "1592438400000",
  },
  {
    id: "46",
    amenityId: "4",
    userId: "59",
    startTime: "60",
    endTime: "780",
    date: "1591574400000",
  },
  {
    id: "47",
    amenityId: "9",
    userId: "23",
    startTime: "240",
    endTime: "780",
    date: "1590105600000",
  },
  {
    id: "48",
    amenityId: "10",
    userId: "46",
    startTime: "540",
    endTime: "1020",
    date: "1590105600000",
  },
  {
    id: "49",
    amenityId: "4",
    userId: "72",
    startTime: "120",
    endTime: "720",
    date: "1592784000000",
  },
  {
    id: "50",
    amenityId: "8",
    userId: "54",
    startTime: "360",
    endTime: "1020",
    date: "1590278400000",
  },
  {
    id: "51",
    amenityId: "6",
    userId: "83",
    startTime: "300",
    endTime: "840",
    date: "1593475200000",
  },
  {
    id: "52",
    amenityId: "6",
    userId: "42",
    startTime: "480",
    endTime: "720",
    date: "1589932800000",
  },
  {
    id: "53",
    amenityId: "6",
    userId: "37",
    startTime: "420",
    endTime: "960",
    date: "1593216000000",
  },
  {
    id: "54",
    amenityId: "2",
    userId: "4",
    startTime: "180",
    endTime: "960",
    date: "1593561600000",
  },
  {
    id: "55",
    amenityId: "5",
    userId: "47",
    startTime: "240",
    endTime: "960",
    date: "1589846400000",
  },
  {
    id: "56",
    amenityId: "2",
    userId: "29",
    startTime: "420",
    endTime: "1080",
    date: "1590105600000",
  },
  {
    id: "57",
    amenityId: "8",
    userId: "98",
    startTime: "180",
    endTime: "1080",
    date: "1590105600000",
  },
  {
    id: "58",
    amenityId: "7",
    userId: "57",
    startTime: "240",
    endTime: "1020",
    date: "1590105600000",
  },
  {
    id: "59",
    amenityId: "8",
    userId: "96",
    startTime: "60",
    endTime: "960",
    date: "1593820800000",
  },
  {
    id: "60",
    amenityId: "1",
    userId: "14",
    startTime: "240",
    endTime: "900",
    date: "1592784000000",
  },
  {
    id: "61",
    amenityId: "6",
    userId: "25",
    startTime: "180",
    endTime: "900",
    date: "1591574400000",
  },
  {
    id: "62",
    amenityId: "4",
    userId: "72",
    startTime: "180",
    endTime: "1200",
    date: "1592438400000",
  },
  {
    id: "63",
    amenityId: "6",
    userId: "87",
    startTime: "540",
    endTime: "1140",
    date: "1590105600000",
  },
  {
    id: "64",
    amenityId: "4",
    userId: "95",
    startTime: "180",
    endTime: "1200",
    date: "1592697600000",
  },
  {
    id: "65",
    amenityId: "1",
    userId: "49",
    startTime: "300",
    endTime: "1200",
    date: "1592179200000",
  },
  {
    id: "66",
    amenityId: "6",
    userId: "62",
    startTime: "360",
    endTime: "1200",
    date: "1592784000000",
  },
  {
    id: "67",
    amenityId: "7",
    userId: "9",
    startTime: "60",
    endTime: "960",
    date: "1592179200000",
  },
  {
    id: "68",
    amenityId: "6",
    userId: "96",
    startTime: "120",
    endTime: "840",
    date: "1590624000000",
  },
  {
    id: "69",
    amenityId: "10",
    userId: "65",
    startTime: "420",
    endTime: "1140",
    date: "1593475200000",
  },
  {
    id: "70",
    amenityId: "7",
    userId: "83",
    startTime: "360",
    endTime: "660",
    date: "1592438400000",
  },
  {
    id: "71",
    amenityId: "2",
    userId: "58",
    startTime: "240",
    endTime: "960",
    date: "1592438400000",
  },
  {
    id: "72",
    amenityId: "5",
    userId: "87",
    startTime: "60",
    endTime: "1200",
    date: "1590278400000",
  },
  {
    id: "73",
    amenityId: "10",
    userId: "7",
    startTime: "420",
    endTime: "840",
    date: "1593561600000",
  },
  {
    id: "74",
    amenityId: "10",
    userId: "24",
    startTime: "120",
    endTime: "1080",
    date: "1593561600000",
  },
  {
    id: "75",
    amenityId: "5",
    userId: "54",
    startTime: "540",
    endTime: "780",
    date: "1590278400000",
  },
  {
    id: "76",
    amenityId: "5",
    userId: "78",
    startTime: "240",
    endTime: "960",
    date: "1589932800000",
  },
  {
    id: "77",
    amenityId: "10",
    userId: "53",
    startTime: "180",
    endTime: "1200",
    date: "1591574400000",
  },
  {
    id: "78",
    amenityId: "7",
    userId: "25",
    startTime: "60",
    endTime: "660",
    date: "1590105600000",
  },
  {
    id: "79",
    amenityId: "1",
    userId: "3",
    startTime: "180",
    endTime: "1020",
    date: "1593216000000",
  },
  {
    id: "80",
    amenityId: "10",
    userId: "57",
    startTime: "120",
    endTime: "780",
    date: "1592179200000",
  },
  {
    id: "81",
    amenityId: "9",
    userId: "29",
    startTime: "540",
    endTime: "1080",
    date: "1592179200000",
  },
  {
    id: "82",
    amenityId: "8",
    userId: "6",
    startTime: "540",
    endTime: "900",
    date: "1592611200000",
  },
  {
    id: "83",
    amenityId: "5",
    userId: "68",
    startTime: "180",
    endTime: "1080",
    date: "1589932800000",
  },
  {
    id: "84",
    amenityId: "5",
    userId: "86",
    startTime: "300",
    endTime: "1140",
    date: "1590278400000",
  },
  {
    id: "85",
    amenityId: "5",
    userId: "30",
    startTime: "480",
    endTime: "720",
    date: "1592438400000",
  },
  {
    id: "86",
    amenityId: "4",
    userId: "61",
    startTime: "240",
    endTime: "960",
    date: "1590278400000",
  },
  {
    id: "87",
    amenityId: "1",
    userId: "3",
    startTime: "420",
    endTime: "720",
    date: "1592784000000",
  },
  {
    id: "88",
    amenityId: "1",
    userId: "64",
    startTime: "60",
    endTime: "840",
    date: "1592784000000",
  },
  {
    id: "89",
    amenityId: "5",
    userId: "70",
    startTime: "540",
    endTime: "900",
    date: "1591574400000",
  },
  {
    id: "90",
    amenityId: "3",
    userId: "1",
    startTime: "600",
    endTime: "780",
    date: "1590105600000",
  },
  {
    id: "91",
    amenityId: "5",
    userId: "61",
    startTime: "60",
    endTime: "1140",
    date: "1593820800000",
  },
  {
    id: "92",
    amenityId: "6",
    userId: "89",
    startTime: "300",
    endTime: "1140",
    date: "1589932800000",
  },
  {
    id: "93",
    amenityId: "10",
    userId: "69",
    startTime: "360",
    endTime: "1140",
    date: "1592179200000",
  },
  {
    id: "94",
    amenityId: "4",
    userId: "90",
    startTime: "600",
    endTime: "660",
    date: "1593475200000",
  },
  {
    id: "95",
    amenityId: "5",
    userId: "45",
    startTime: "180",
    endTime: "780",
    date: "1592697600000",
  },
  {
    id: "96",
    amenityId: "8",
    userId: "98",
    startTime: "600",
    endTime: "1200",
    date: "1590624000000",
  },
  {
    id: "97",
    amenityId: "4",
    userId: "30",
    startTime: "180",
    endTime: "840",
    date: "1593561600000",
  },
  {
    id: "98",
    amenityId: "4",
    userId: "28",
    startTime: "480",
    endTime: "960",
    date: "1590105600000",
  },
  {
    id: "99",
    amenityId: "8",
    userId: "72",
    startTime: "600",
    endTime: "1020",
    date: "1590105600000",
  },
  {
    id: "100",
    amenityId: "4",
    userId: "87",
    startTime: "540",
    endTime: "1020",
    date: "1593475200000",
  },
];

export class SeedReservations1695051946602 implements MigrationInterface {
  public async up(queryRunner: QueryRunner): Promise<void> {
    const amenities = await queryRunner.manager.find(Amenity);

    await Promise.all(
      reservations.map(async reservation => {
        const amenity = amenities.find(item => item.id === reservation.amenityId);

        return queryRunner.manager.save(Reservation, {
          ...reservation,
          startTime: Number(reservation.startTime),
          endTime: Number(reservation.endTime),
          amenity,
          amenityId: amenity.id,
        });
      }),
    );
  }

  public async down(queryRunner: QueryRunner): Promise<void> {
    await Promise.all(
      reservations.map(reservation => {
        return queryRunner.manager.delete(Reservation, { id: reservation.id });
      }),
    );
  }
}
